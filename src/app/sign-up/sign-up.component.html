<!-- sign-up .hyml component-->
<div class="container">
    <!-- Left side (Form inputs) -->
    <div class="form-side">
      <div class="form-container">
        <h1 class="title">Sign Up</h1>
  
        <form (ngSubmit)="onSubmit()" [formGroup]="signupForm">
          <!-- Name inputs in a row -->
          <div class="form-row">
            <div class="form-group half">
              <label for="firstName">First Name</label>
              <input 
                type="text" 
                id="firstName"
                formControlName="firstName" 
                placeholder="ex: Ahmed"
                class="form-control"
                [ngClass]="{'invalid': submitted && f['firstName'].errors}"
              >
              <div *ngIf="submitted && f['firstName'].errors" class="error-message">
                <div *ngIf="f['firstName'].errors['required']">First name is required</div>
              </div>
            </div>
  
            <div class="form-group half">
              <label for="lastName">Last Name</label>
              <input 
                type="text" 
                id="lastName"
                formControlName="lastName" 
                placeholder="ex: Wagdy"
                class="form-control"
                [ngClass]="{'invalid': submitted && f['lastName'].errors}"
              >
              <div *ngIf="submitted && f['lastName'].errors" class="error-message">
                <div *ngIf="f['lastName'].errors['required']">Last name is required</div>
              </div>
            </div>
          </div>
  
          <!-- Email input -->
          <div class="form-group">
            <label for="email">Email</label>
            <input 
              type="email" 
              id="email"
              formControlName="email" 
              placeholder="ex: ahmedwagdy@email.com"
              class="form-control"
              [ngClass]="{'invalid': submitted && f['email'].errors}"
            >
            <div *ngIf="submitted && f['email'].errors" class="error-message">
              <div *ngIf="f['email'].errors['required']">Email is required</div>
              <div *ngIf="f['email'].errors['email']">Enter a valid email</div>
            </div>
          </div>
  
          <!-- Phone number with country code -->
          <div class="form-group">
            <label for="phone">Phone Number</label>
            <div class="phone-input">
              <div class="country-code">
                <select formControlName="countryCode" class="code-select">
                  <option value="+20">+20</option>
                  <!-- Add more country codes as needed -->
                </select>
              </div>
              <input 
                type="tel" 
                id="phone"
                formControlName="phone" 
                placeholder="ex: 01007559638"
                class="form-control phone"
                [ngClass]="{'invalid': submitted && f['phone'].errors}"
              >
            </div>
            <div *ngIf="submitted && f['phone'].errors" class="error-message">
              <div *ngIf="f['phone'].errors['required']">Phone number is required</div>
              <div *ngIf="f['phone'].errors['pattern']">Enter a valid phone number</div>
            </div>
          </div>
  
          <!-- City dropdown -->
          <div class="form-group">
            <label for="city">City</label>
            <div class="dropdown">
              <select formControlName="city" id="city" class="form-control">
                <option value="" disabled selected>ex: Cairo</option>
                <option value="Cairo">Cairo</option>
                <option value="Alexandria">Alexandria</option>
                <option value="Giza">Giza</option>
                <!-- Add more cities as needed -->
              </select>
            </div>
            <div *ngIf="submitted && f['city'].errors" class="error-message">
              <div *ngIf="f['city'].errors['required']">City is required</div>
            </div>
          </div>
  
          <!-- Date of birth -->
          <div class="form-group">
            <label for="dob">Birth of date</label>
            <div class="date-input">
              <input 
                type="date" 
                id="dob"
                formControlName="dob" 
                class="form-control"
                [ngClass]="{'invalid': submitted && f['dob'].errors}"
              >
              <div class="calendar-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                  <line x1="16" y1="2" x2="16" y2="6"></line>
                  <line x1="8" y1="2" x2="8" y2="6"></line>
                  <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
              </div>
            </div>
            <div *ngIf="submitted && f['dob'].errors" class="error-message">
              <div *ngIf="f['dob'].errors['required']">Date of birth is required</div>
            </div>
          </div>
  
          <!-- Password input -->
          <div class="form-group">
            <label for="password">Password</label>
            <div class="password-input">
              <input 
                [type]="showPassword ? 'text' : 'password'" 
                id="password"
                formControlName="password" 
                placeholder="••••••••"
                class="form-control"
                [ngClass]="{'invalid': submitted && f['password'].errors}"
              >
              <div class="toggle-password" (click)="togglePasswordVisibility()">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </div>
            </div>
            <div *ngIf="submitted && f['password'].errors" class="error-message">
              <div *ngIf="f['password'].errors['required']">Password is required</div>
              <div *ngIf="f['password'].errors['minlength']">Password must be at least 6 characters</div>
            </div>
          </div>
  
          <!-- Confirm password input -->
          <div class="form-group">
            <label for="confirmPassword">Confirm password</label>
            <input 
              [type]="showConfirmPassword ? 'text' : 'password'" 
              id="confirmPassword"
              formControlName="confirmPassword" 
              placeholder="••••••••"
              class="form-control"
              [ngClass]="{'invalid': submitted && f['confirmPassword'].errors}"
            >
            <div *ngIf="submitted && f['confirmPassword'].errors" class="error-message">
              <div *ngIf="f['confirmPassword'].errors['required']">Confirm password is required</div>
              <div *ngIf="f['confirmPassword'].errors['matching']">Passwords must match</div>
            </div>
          </div>
  
          <!-- Terms checkbox -->
          <div class="form-group terms-group">
            <div class="checkbox-container">
              <input 
                type="checkbox" 
                id="terms"
                formControlName="terms" 
                class="checkbox"
              >
              <label for="terms" class="terms-label">I understood the <span class="terms-link">terms & policy</span>.</label>
            </div>
            <div *ngIf="submitted && f['terms'].errors" class="error-message">
              <div *ngIf="f['terms'].errors['required']">You must accept the terms and policy</div>
            </div>
          </div>
          
          <!-- Sign up button -->
          <button type="submit" class="signup-btn">Sign in</button>
        </form>
  
        <!-- Google sign up -->
        <div class="google-signup">
          <button class="google-btn">
            <img src="../../assets/images/google.png" alt="Google">
            Sign in with Google
          </button>
        </div>
  
        <!-- Login link -->
        <div class="login-link">
          <span>Do you have an account?</span>
          <a [routerLink]="['/log-in']">Login</a>
        </div>
      </div>
    </div>
  
    <!-- Right side (Blue background with image) -->
    <div class="image-side">
      <div class="close-button">
        <button class="close-btn">✕</button>
      </div>
      <div class="image-container">
        <img src="../../assets/images/signup.png" alt="Sign up illustration">
      </div>
    </div>
  </div>